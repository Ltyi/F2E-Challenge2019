(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c2efc0a"],{"7e74":function(t,e,n){},"99af":function(t,e,n){"use strict";var i=n("23e7"),s=n("d039"),c=n("e8b5"),o=n("861d"),r=n("7b0b"),a=n("50c4"),u=n("8418"),l=n("65f0"),b=n("1dde"),f=n("b622"),d=n("2d00"),m=f("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",v=d>=51||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),p=b("concat"),h=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:c(t)},g=!v||!p;i({target:"Array",proto:!0,forced:g},{concat:function(t){var e,n,i,s,c,o=r(this),b=l(o,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(c=-1===e?o:arguments[e],h(c)){if(s=a(c.length),f+s>j)throw TypeError(O);for(n=0;n<s;n++,f++)n in c&&u(b,f,c[n])}else{if(f>=j)throw TypeError(O);u(b,f++,c)}return b.length=f,b}})},a339:function(t,e,n){},b4c9:function(t,e,n){"use strict";var i=n("7a23"),s={class:"font-noto"},c={class:"flex justify-end"},o=Object(i["g"])("新增任務"),r=Object(i["g"])("取消");function a(t,e,n,a,u,l){var b=Object(i["z"])("base-btn"),f=Object(i["z"])("base-dialog");return Object(i["r"])(),Object(i["e"])(f,{"model-value":n.modelValue,"onUpdate:modelValue":a.close},{default:Object(i["H"])((function(){return[Object(i["h"])("div",s,[Object(i["I"])(Object(i["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return a.title=t}),type:"text",placeholder:"請輸入任務名稱",class:"outline-none border-2 rounded px-4 py-2 w-full mb-4"},null,512),[[i["E"],a.title]]),Object(i["h"])("div",c,[Object(i["h"])(b,{class:"mr-2",color:"red",onClick:a.add},{default:Object(i["H"])((function(){return[o]})),_:1},8,["onClick"]),Object(i["h"])(b,{onClick:a.close},{default:Object(i["H"])((function(){return[r]})),_:1},8,["onClick"])])])]})),_:1},8,["model-value","onUpdate:modelValue"])}var u=n("bf26"),l={naem:"MissionAdd",props:{modelValue:Boolean},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,i=b(n),s=i.title,c=i.add,o=i.close;return{title:s,add:c,close:o}}};function b(t){var e=Object(u["a"])(),n=e.missionAdd,s=Object(i["w"])(""),c=function(){n(s.value),o()},o=function(){s.value="",t("update:modelValue",!1)};return{title:s,add:c,close:o}}l.render=a;e["a"]=l},bb51:function(t,e,n){"use strict";n.r(e);var i=n("7a23"),s={class:"flex h-full"},c={class:"flex flex-col w-4/12 p-16 h-full"},o={class:"flex flex-grow justify-center items-center font-noto"},r={key:0,class:"text-gray-400"},a={class:"h-40 p-6 bg-gray-100 rounded-md font-noto"},u=Object(i["h"])("span",{class:"mr-3"},"+",-1),l=Object(i["g"])(" 增加新任務 "),b={class:"w-6/12"},f=Object(i["h"])("div",{class:"text-lg font-noto"},"今日任務已完成",-1),d={class:"text-4xl"},m={class:"w-6/12 flex justify-end"},j={class:"text-right"},O={class:"text-lg font-noto"},v={class:"text-4xl"},p={class:"w-full flex justify-center"},h={key:0,class:"w-6/12"},g={key:1,class:"w-6/12 text-center font-noto"},x={key:0,class:"w-full text-2xl self-end font-noto"};function k(t,e,n,k,w,y){var C=Object(i["z"])("VStepper"),D=Object(i["z"])("VTimer"),S=Object(i["z"])("fa-icon"),M=Object(i["z"])("MissionAdd");return Object(i["r"])(),Object(i["e"])("div",s,[Object(i["h"])("div",c,[Object(i["h"])(C,{items:k.missionToDoList},null,8,["items"]),Object(i["h"])("div",o,[k.missionToDoList.length?Object(i["f"])("",!0):(Object(i["r"])(),Object(i["e"])("span",r,"目前尚無任務"))]),Object(i["h"])("div",a,[Object(i["h"])("h3",{class:"text-lg text-gray-400 cursor-pointer inline-block",onClick:e[1]||(e[1]=function(t){return k.dialog.missionAdd=!0})},[u,l])])]),Object(i["h"])("div",{class:["w-8/12 p-16 h-full flex flex-wrap items-start transition-all duration-500",k.bgClass]},[Object(i["h"])("div",b,[f,Object(i["h"])("div",d,Object(i["B"])(k.doneString),1)]),Object(i["h"])("div",m,[Object(i["h"])("div",j,[Object(i["h"])("div",O,Object(i["B"])(k.currentDate),1),Object(i["h"])("div",v,Object(i["B"])(k.currentTime),1)])]),Object(i["h"])("div",p,[k.missionToDoList.length?(Object(i["r"])(),Object(i["e"])("div",h,[Object(i["h"])(D,{"onMission:start":e[2]||(e[2]=function(t){return k.missionStart(k.currentMission.id)}),"onMission:done":e[3]||(e[3]=function(t){return k.missionDone(k.currentMission.id)}),"onMission:skip":e[4]||(e[4]=function(t){return k.missionSkip(k.currentMission.id)})})])):(Object(i["r"])(),Object(i["e"])("div",g,"請先新增任務"))]),k.missionToDoList.length?(Object(i["r"])(),Object(i["e"])("div",x,[Object(i["h"])(S,{icon:["fas","circle"],class:"mr-4"}),Object(i["h"])("span",null,Object(i["B"])(k.currentMission.title),1)])):Object(i["f"])("",!0)],2),Object(i["h"])(M,{modelValue:k.dialog.missionAdd,"onUpdate:modelValue":e[5]||(e[5]=function(t){return k.dialog.missionAdd=t})},null,8,["modelValue"])])}var w=n("ade3"),y=n("5502"),C=n("bf26"),D=n("c9f9"),S=n("b4c9"),M=Object(i["J"])("data-v-f2e30130");Object(i["u"])("data-v-f2e30130");var T={class:"flex items-center h-16 relative"};Object(i["s"])();var L=M((function(t,e,n,s,c,o){var r=Object(i["z"])("fa-icon");return Object(i["r"])(),Object(i["e"])("div",null,[(Object(i["r"])(!0),Object(i["e"])(i["a"],null,Object(i["x"])(n.items,(function(t,e){return Object(i["r"])(),Object(i["e"])("div",{key:e},[Object(i["h"])("div",T,[0===e?(Object(i["r"])(),Object(i["e"])("div",{key:0,class:["flex items-center justify-center w-10 h-10 border-2 border-red-400 text-red-400 rounded-full mr-5",{"current-step":n.items.length>1}]},[Object(i["h"])(r,{icon:["fas","play"],class:"text-lg ml-1"})],2)):(Object(i["r"])(),Object(i["e"])("div",{key:1,class:["w-4 h-4 rounded-full bg-red-400 step mr-8",{"last-step":e===n.items.length-1,"bg-red-400":!0}]},null,2)),Object(i["h"])("div",{class:{"text-2xl":0===e,"text-base":0!==e,"font-light":0!==e,"font-noto":!0,"leading-5":!0,"tracking-wide":!0}},Object(i["B"])(t.title),3)])])})),128))])})),V={name:"VStepper",props:{items:{type:Array,default:function(){return[]}}}};n("c525");V.render=L,V.__scopeId="data-v-f2e30130";var A=V,I=Object(i["J"])("data-v-00831a56");Object(i["u"])("data-v-00831a56");var z={class:"relative"},B={class:"absolute top-0 left-0 w-full h-full flex justify-center items-center"},_=Object(i["g"])(" 暫停 "),H=Object(i["g"])(" 作廢 "),F=Object(i["g"])(" 開始 ");Object(i["s"])();var J=I((function(t,e,n,s,c,o){var r=Object(i["z"])("fa-icon");return Object(i["r"])(),Object(i["e"])("div",z,[(Object(i["r"])(),Object(i["e"])("svg",{width:"100",height:"100",viewBox:"0 0 31.831 31.831",class:s.timerClass},[Object(i["h"])("circle",{r:"15.9155",cx:"15.9155",cy:"15.9155",fill:"transparent","stroke-width":"31.831","stroke-dasharray":"".concat(s.percent," 100")},null,8,["stroke-dasharray"])],2)),Object(i["h"])("div",B,[Object(i["h"])("div",{class:["relative text-100 font-bold",s.textClass]},[Object(i["h"])("span",null,Object(i["B"])(s.countDownFormat),1),Object(i["h"])("div",{class:["absolute w-full text-lg flex px-2",s.isCounting?"justify-between":"justify-center"]},[s.isCounting?(Object(i["r"])(),Object(i["e"])(i["a"],{key:0},[Object(i["h"])("div",{class:"cursor-pointer",onClick:e[1]||(e[1]=function(){return s.pause&&s.pause.apply(s,arguments)})},[Object(i["h"])(r,{icon:["far","stop-circle"]}),_]),Object(i["h"])("div",{class:"cursor-pointer",onClick:e[2]||(e[2]=function(){return s.skip&&s.skip.apply(s,arguments)})},[Object(i["h"])(r,{icon:["fas","times"]}),H])],64)):(Object(i["r"])(),Object(i["e"])("div",{key:1,class:"cursor-pointer",onClick:e[3]||(e[3]=function(){return s.start&&s.start.apply(s,arguments)})},[F,Object(i["h"])(r,{icon:["fas","play"]})]))],2)],2)])])})),U={name:"VStepper",emits:["mission:start","mission:done","mission:skip"],setup:function(t,e){var n=e.emit,i=E(n),s=i.mode,c=i.percent,o=i.start,r=i.pause,a=i.skip,u=i.isCounting,l=i.countDownFormat,b=Y(s,u),f=b.timerClass,d=b.textClass;return{timerClass:f,textClass:d,mode:s,percent:c,start:o,pause:r,skip:a,isCounting:u,countDownFormat:l}}};function Y(t,e){var n=Object(i["c"])((function(){return{timer:!0,"timer-break":"break"===t.value,"timer-focus":"focus"===t.value,"timer--start":e.value}})),s=Object(i["c"])((function(){return{"text-white":e.value,"text-green-900":!e.value&&"break"===t.value,"text-red-600":!e.value&&"focus"===t.value}}));return{timerClass:n,textClass:s}}function E(t){var e=Object(i["l"])("dayjs"),n=Object(y["b"])(),s=Object(i["c"])((function(){return n.state.mission.mode})),c=Object(i["c"])((function(){return"focus"===s.value?1500:300})),o=Object(i["w"])(null),r=Object(i["w"])(0),a=Object(i["c"])((function(){return 100/c.value*r.value})),u=Object(i["c"])((function(){return n.state.mission.isCounting})),l=Object(i["c"])((function(){var t=1e3*c.value-1e3*r.value,n=e.duration(t);return e(n.asMilliseconds()).format("mm:ss")}));Object(i["G"])(o,(function(t){return n.commit("mission/setIsCounting",!!t)}),{immediate:!0});var b=function(){t("mission:start"),o.value=setInterval((function(){r.value++,"focus"===s.value&&100===a.value?(r.value=0,t("mission:done"),n.getters["mission/missionToDoList"].length?n.commit("mission/setMode","break"):d()):"break"===s.value&&100===a.value&&d()}),1e3)},f=function(){clearInterval(o.value),o.value=null},d=function(){clearInterval(o.value),o.value=null,r.value=0,n.commit("mission/setMode","focus")},m=function(){t("mission:skip"),d()};return{mode:s,percent:a,start:b,pause:f,skip:m,isCounting:u,countDownFormat:l}}n("f335");U.render=J,U.__scopeId="data-v-00831a56";var R=U,W={name:"Home",components:{VStepper:A,VTimer:R,MissionAdd:S["a"]},setup:function(){var t=Object(y["b"])(),e=Object(i["l"])("dayjs"),n=Object(C["a"])(),s=n.missionStart,c=n.missionDone,o=n.missionSkip,r=Object(D["a"])(),a=r.missionToDoList,u=r.currentMission,l=r.doneString,b=q(t),f=b.bgClass,d=G(e),m=d.currentDate,j=d.currentTime,O=Object(i["v"])({missionAdd:!1});return{missionStart:s,missionDone:c,missionSkip:o,missionToDoList:a,currentMission:u,doneString:l,bgClass:f,currentDate:m,currentTime:j,dialog:O}}};function q(t){var e=Object(i["c"])((function(){return t.state.mission.isCounting})),n=Object(i["c"])((function(){return t.state.mission.mode})),s=Object(i["c"])((function(){return e.value&&"focus"===n.value?"text-white":"text-gray-400"})),c=Object(i["c"])((function(){return Object(w["a"])({"bg-gray-100":!e.value,"bg-red-300":e.value&&"focus"===n.value,"bg-green-100":e.value&&"break"===n.value},s.value,!0)}));return{bgClass:c}}function G(t){var e=null,n=Object(i["c"])((function(){return t().format("YYYY-MM-DD")})),s=Object(i["w"])(""),c=function(){e=setInterval((function(){s.value=t().format("HH:mm")}))};return Object(i["p"])((function(){c()})),Object(i["q"])((function(){clearInterval(e),e=null})),{currentDate:n,currentTime:s}}W.render=k;e["default"]=W},bf26:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("4360");function s(){var t=function(t){return i["a"].commit("mission/missionAdd",t)},e=function(t){return i["a"].commit("mission/missionImport",t)},n=function(t){return i["a"].commit("mission/missionStart",t)},s=function(t){return i["a"].commit("mission/missionDone",t)},c=function(t){return i["a"].commit("mission/missionRemove",t)},o=function(t){return i["a"].commit("mission/missionSkip",t)};return{missionAdd:t,missionImport:e,missionStart:n,missionDone:s,missionSkip:o,missionRemove:c}}},c525:function(t,e,n){"use strict";n("7e74")},c9f9:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("99af"),n("4de4");var i=n("7a23"),s=n("4360");function c(){var t=Object(i["c"])((function(){return s["a"].getters["mission/missionToDoList"]})),e=Object(i["c"])((function(){return s["a"].getters["mission/missionDoneList"]})),n=Object(i["c"])((function(){return s["a"].getters["mission/missionSkipList"]})),c=Object(i["c"])((function(){return s["a"].getters["mission/missionDoneAllList"]})),o=Object(i["c"])((function(){return s["a"].getters["mission/missionWeekList"]})),r=Object(i["c"])((function(){return t.value[0]})),a=Object(i["c"])((function(){var t=s["a"].getters["mission/missionToday"],e=t.length,n=t.filter((function(t){return t.done})).length;return"".concat(n,"/").concat(e)})),u=Object(i["c"])((function(){var t=o.value.length,e=o.value.filter((function(t){return t.done})).length;return"".concat(e,"/").concat(t)}));return{missionToDoList:t,missionDoneList:e,missionSkipList:n,missionDoneAllList:c,missionWeekList:o,currentMission:r,doneString:a,weekDoneString:u}}},f335:function(t,e,n){"use strict";n("a339")}}]);
//# sourceMappingURL=chunk-0c2efc0a.b39809d5.js.map