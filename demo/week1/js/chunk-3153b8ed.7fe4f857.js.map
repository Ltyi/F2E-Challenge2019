{"version":3,"sources":["webpack:///./src/composables/usePlanList.js","webpack:///./src/components/mission/PlanAdd.vue","webpack:///./src/components/mission/PlanAdd.vue?42c4","webpack:///./src/components/mission/PlanMissionAdd.vue","webpack:///./src/components/mission/PlanMissionAdd.vue?599c","webpack:///./src/views/Mission.vue","webpack:///./src/views/Mission.vue?c6bd","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/components/mission/MissionAdd.vue","webpack:///./src/components/mission/MissionAdd.vue?8d5d","webpack:///./src/composables/useMissionHandler.js","webpack:///./src/composables/useMissionList.js"],"names":["usePlanList","planList","computed","store","state","plans","usePlanAdd","title","color","activeClass","add","close","payload","value","commit","emit","name","props","modelValue","Boolean","emits","usePlanMissionAdd","planID","type","String","default","dialog","planAdd","missionAdd","planMissionAdd","show","useMissionHandler","missionImport","missionRemove","useMissionList","missionToDoList","missionDoneList","missionSkipList","usePlanHandler","planRemove","planMissionExport","planMissionRemove","id","components","PlanAdd","MissionAdd","PlanMissionAdd","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","TypeError","useMissionAdd","naem","mission","missionStart","missionDone","missionSkip","useMission","getters","missionDoneAllList","missionWeekList","currentMission","doneString","missionToday","doneLength","filter","x","done","weekDoneString"],"mappings":"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","file":"js/chunk-3153b8ed.7fe4f857.js","sourcesContent":["import store from '@/store'\r\nimport { computed } from 'vue'\r\n\r\nexport default function usePlanList() {\r\n  const planList = computed(() => store.state.plans.planList)\r\n\r\n  return {\r\n    planList\r\n  }\r\n}\r\n","<template>\r\n  <base-dialog :model-value=\"modelValue\" @update:modelValue=\"close\">\r\n    <div class=\"font-noto\">\r\n      <input\r\n        v-model=\"title\"\r\n        type=\"text\"\r\n        placeholder=\"請輸入計畫名稱\"\r\n        class=\"outline-none border-2 rounded px-4 py-2 w-full mb-4\"\r\n      />\r\n\r\n      <div class=\"flex\">\r\n        <div\r\n          class=\"w-6 h-6 bg-yellow-base rounded cursor-pointer mr-1\"\r\n          :class=\"color === 'yellow' ? activeClass : ''\"\r\n          @click=\"color = 'yellow'\"\r\n        ></div>\r\n\r\n        <div\r\n          class=\"w-6 h-6 bg-green-600 rounded cursor-pointer\"\r\n          :class=\"color === 'green' ? activeClass : ''\"\r\n          @click=\"color = 'green'\"\r\n        ></div>\r\n      </div>\r\n\r\n      <div class=\"flex justify-end\">\r\n        <base-btn class=\"mr-2\" color=\"red\" @click=\"add\">新增計畫</base-btn>\r\n        <base-btn @click=\"close\">取消</base-btn>\r\n      </div>\r\n    </div>\r\n  </base-dialog>\r\n</template>\r\n\r\n<script setup=\"props, { emit }\">\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'PlanAdd',\r\n\r\n  props: {\r\n    modelValue: Boolean\r\n  },\r\n\r\n  emits: ['update:modelValue']\r\n}\r\n\r\nconst store = useStore()\r\n\r\nexport const { title, color, activeClass, add, close } = usePlanAdd()\r\n\r\n// 組件功能\r\nfunction usePlanAdd() {\r\n  const title = ref('')\r\n  const color = ref('yellow')\r\n  const activeClass = { 'border-2': true, 'border-gray-500': true }\r\n\r\n  const add = () => {\r\n    const payload = {\r\n      title: title.value,\r\n      color: color.value\r\n    }\r\n\r\n    store.commit('plans/planAdd', payload)\r\n    title.value = ''\r\n    close()\r\n  }\r\n\r\n  const close = () => emit('update:modelValue', false)\r\n\r\n  return {\r\n    title,\r\n    color,\r\n    activeClass,\r\n    add,\r\n    close\r\n  }\r\n}\r\n</script>\r\n","import script from \"./PlanAdd.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\nexport * from \"./PlanAdd.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\n\nexport default script","<template>\r\n  <base-dialog :model-value=\"modelValue\" @update:modelValue=\"close\">\r\n    <div class=\"font-noto\">\r\n      <input\r\n        v-model=\"title\"\r\n        type=\"text\"\r\n        placeholder=\"請輸入任務名稱\"\r\n        class=\"outline-none border-2 rounded px-4 py-2 w-full mb-4\"\r\n      />\r\n\r\n      <div class=\"flex justify-end\">\r\n        <base-btn class=\"mr-2\" color=\"red\" @click=\"add\">新增任務</base-btn>\r\n        <base-btn @click=\"close\">取消</base-btn>\r\n      </div>\r\n    </div>\r\n  </base-dialog>\r\n</template>\r\n\r\n<script setup=\"props, { emit }\">\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'PlanMissionAdd',\r\n\r\n  props: {\r\n    modelValue: Boolean,\r\n    planID: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  emits: ['update:modelValue', 'update:planID']\r\n}\r\n\r\nconst store = useStore()\r\n\r\nexport const { title, add, close } = usePlanMissionAdd()\r\n\r\n// 組件功能\r\nfunction usePlanMissionAdd() {\r\n  const title = ref('')\r\n\r\n  const add = () => {\r\n    const payload = {\r\n      title: title.value,\r\n      planID: props.planID\r\n    }\r\n    store.commit('plans/planMissionAdd', payload)\r\n    close()\r\n  }\r\n\r\n  const close = () => {\r\n    emit('update:modelValue', false)\r\n    emit('update:planID', '')\r\n  }\r\n\r\n  return {\r\n    title,\r\n    add,\r\n    close\r\n  }\r\n}\r\n</script>\r\n","import script from \"./PlanMissionAdd.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\nexport * from \"./PlanMissionAdd.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\n\nexport default script","<template>\r\n  <div class=\"flex h-full font-noto font-medium\">\r\n    <div class=\"flex flex-col w-4/12 p-16 h-full\">\r\n      <div class=\"flex items-center h-10 mb-12\">\r\n        <fa-icon\r\n          fixed-width\r\n          :icon=\"['fas', 'list-ul']\"\r\n          class=\"text-2xl mt-1 mr-6 text-gray-600\"\r\n        ></fa-icon>\r\n        <span class=\"text-3xl font-bold text-gray-600\">計畫任務</span>\r\n      </div>\r\n\r\n      <div class=\"flex-grow\">\r\n        <div\r\n          class=\"flex items-center text-white text-lg py-3 px-6 bg-red-300 rounded-t-md\"\r\n        >\r\n          <span>今日任務</span>\r\n\r\n          <fa-icon\r\n            fixed-width\r\n            :icon=\"['fas', 'plus']\"\r\n            class=\"ml-auto cursor-pointer\"\r\n            @click=\"dialog.missionAdd = true\"\r\n          ></fa-icon>\r\n        </div>\r\n\r\n        <!-- 任務列表 -->\r\n        <ul class=\"flex-grow\">\r\n          <li\r\n            v-for=\"item in missionToDoList\"\r\n            :key=\"item.id\"\r\n            class=\"flex items-center py-4 px-6 bg-red-100 group leading-5 hover:bg-red-ffcdcd\"\r\n          >\r\n            <span>{{ item.title }}</span>\r\n\r\n            <!-- 移除 -->\r\n            <span\r\n              class=\"cursor-pointer hidden ml-auto group-hover:block\"\r\n              @click=\"missionRemove(item.id)\"\r\n            >\r\n              <fa-icon :icon=\"['fas', 'times']\" class=\"text-gray-500\"></fa-icon>\r\n            </span>\r\n          </li>\r\n\r\n          <li\r\n            v-for=\"item in missionDoneList\"\r\n            :key=\"item.id\"\r\n            class=\"flex items-center py-4 px-6 bg-gray-200\"\r\n          >\r\n            <span>{{ item.title }}</span>\r\n            <span class=\"ml-auto text-green-base text-sm\">已完成</span>\r\n          </li>\r\n\r\n          <li\r\n            v-for=\"item in missionSkipList\"\r\n            :key=\"item.id\"\r\n            class=\"flex items-center py-4 px-6 bg-gray-200\"\r\n          >\r\n            <span>{{ item.title }}</span>\r\n            <span class=\"ml-auto text-red-base text-sm\">已作廢</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"w-8/12 py-16 px-24 h-full bg-gray-100\">\r\n      <div\r\n        class=\"flex items-center mb-12 text-lg text-gray-500 font-bold cursor-pointer\"\r\n        @click=\"dialog.planAdd = true\"\r\n      >\r\n        <span>\r\n          <fa-icon :icon=\"['fas', 'plus']\" class=\"mr-4\"></fa-icon>\r\n        </span>\r\n        <span>新增計畫</span>\r\n      </div>\r\n\r\n      <!-- 計畫列表 -->\r\n      <div v-for=\"item in planList\" :key=\"item.planID\" class=\"mb-8\">\r\n        <div\r\n          class=\"flex items-center font-medium text-white text-lg py-3 px-6 rounded-t-md\"\r\n          :class=\"{\r\n            'bg-yellow-base': item.color === 'yellow',\r\n            'bg-green-600': item.color === 'green'\r\n          }\"\r\n        >\r\n          <span>{{ item.title }}</span>\r\n\r\n          <span class=\"ml-auto\">\r\n            <fa-icon\r\n              fixed-width\r\n              :icon=\"['fas', 'plus']\"\r\n              class=\"mr-2 cursor-pointer\"\r\n              @click=\"planMissionAdd(item.planID)\"\r\n            ></fa-icon>\r\n\r\n            <fa-icon\r\n              fixed-width\r\n              :icon=\"['fas', 'times']\"\r\n              class=\"mr-2 cursor-pointer\"\r\n              @click=\"planRemove(item.planID)\"\r\n            ></fa-icon>\r\n          </span>\r\n        </div>\r\n\r\n        <!-- 計畫任務列表 -->\r\n        <ul>\r\n          <li\r\n            v-for=\"mission in item.missions\"\r\n            :key=\"mission.id\"\r\n            class=\"flex items-center py-4 px-6 group\"\r\n            :class=\"\r\n              item.color === 'yellow'\r\n                ? 'bg-yellow-100 hover:bg-yellow-200'\r\n                : 'bg-green-300 hover:bg-green-400'\r\n            \"\r\n          >\r\n            <span>{{ mission.title }}</span>\r\n\r\n            <!-- 匯入任務 / 移除 -->\r\n            <div class=\"items-center hidden ml-auto group-hover:inline-flex\">\r\n              <span class=\"cursor-pointer text-gray-500\" @click=\"missionImport(mission)\">\r\n                <fa-icon :icon=\"['fas', 'file-export']\"></fa-icon>\r\n                <span class=\"text-sm ml-3\">匯入任務</span>\r\n              </span>\r\n\r\n              <span\r\n                class=\"cursor-pointer text-gray-500 ml-5\"\r\n                @click=\"planMissionRemove(mission.planID, mission.id)\"\r\n              >\r\n                <fa-icon :icon=\"['fas', 'times']\"></fa-icon>\r\n              </span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n      <!-- 新增任務 -->\r\n      <MissionAdd v-model=\"dialog.missionAdd\"></MissionAdd>\r\n\r\n      <!-- 新增計畫 -->\r\n      <PlanAdd v-model=\"dialog.planAdd\"></PlanAdd>\r\n\r\n      <!-- 新增計畫任務 -->\r\n      <PlanMissionAdd\r\n        v-model=\"dialog.planMissionAdd.show\"\r\n        v-model:planID=\"dialog.planMissionAdd.planID\"\r\n      ></PlanMissionAdd>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\n// 組件\r\nimport MissionAdd from '@/components/mission/MissionAdd'\r\nimport PlanAdd from '@/components/mission/PlanAdd'\r\nimport PlanMissionAdd from '@/components/mission/PlanMissionAdd'\r\n\r\n// 可複用功能\r\nimport useMissionHandler from '@/composables/useMissionHandler'\r\nimport useMissionList from '@/composables/useMissionList'\r\nimport usePlanList from '@/composables/usePlanList'\r\n\r\nexport default {\r\n  name: 'Mission',\r\n\r\n  components: {\r\n    PlanAdd,\r\n    MissionAdd,\r\n    PlanMissionAdd\r\n  }\r\n}\r\n\r\nconst store = useStore()\r\n\r\n// 彈窗控制\r\nexport const dialog = reactive({\r\n  planAdd: false,\r\n  missionAdd: false,\r\n  planMissionAdd: { show: false, planID: '' }\r\n})\r\n\r\n// 任務列表/處理\r\nexport const { missionImport, missionRemove } = useMissionHandler()\r\nexport const { missionToDoList, missionDoneList, missionSkipList } = useMissionList()\r\n\r\n// 計畫列表\r\nexport const { planList } = usePlanList()\r\nexport const {\r\n  planRemove,\r\n  planMissionAdd,\r\n  planMissionExport,\r\n  planMissionRemove\r\n} = usePlanHandler()\r\n\r\n// 組件功能\r\nfunction usePlanHandler() {\r\n  const planRemove = planID => store.commit('plans/planRemove', planID)\r\n\r\n  const planMissionAdd = planID => {\r\n    dialog.planMissionAdd.show = true\r\n    dialog.planMissionAdd.planID = planID\r\n  }\r\n\r\n  // 計畫任務刪除\r\n  const planMissionRemove = (planID, id) => {\r\n    const payload = { planID, id }\r\n    store.commit('plans/planMissionRemove', payload)\r\n  }\r\n\r\n  return {\r\n    planRemove,\r\n    planMissionAdd,\r\n    planMissionExport,\r\n    planMissionRemove\r\n  }\r\n}\r\n</script>\r\n","import script from \"./Mission.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Mission.vue?vue&type=script&setup=true&lang=js\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","<template>\r\n  <base-dialog :model-value=\"modelValue\" @update:modelValue=\"close\">\r\n    <div class=\"font-noto\">\r\n      <input\r\n        v-model=\"title\"\r\n        type=\"text\"\r\n        placeholder=\"請輸入任務名稱\"\r\n        class=\"outline-none border-2 rounded px-4 py-2 w-full mb-4\"\r\n      />\r\n\r\n      <div class=\"flex justify-end\">\r\n        <base-btn class=\"mr-2\" color=\"red\" @click=\"add\">新增任務</base-btn>\r\n        <base-btn @click=\"close\">取消</base-btn>\r\n      </div>\r\n    </div>\r\n  </base-dialog>\r\n</template>\r\n\r\n<script setup=\"props, { emit }\">\r\nimport { ref } from 'vue'\r\n\r\n// 可複用功能\r\nimport useMissionHandler from '@/composables/useMissionHandler'\r\n\r\nexport default {\r\n  naem: 'MissionAdd',\r\n\r\n  props: {\r\n    modelValue: Boolean\r\n  },\r\n\r\n  emits: ['update:modelValue']\r\n}\r\n\r\nexport const { missionAdd } = useMissionHandler()\r\nexport const { title, add, close } = useMissionAdd()\r\n\r\n// 組件功能\r\nfunction useMissionAdd() {\r\n  const title = ref('')\r\n\r\n  const add = () => {\r\n    missionAdd(title.value)\r\n    close()\r\n  }\r\n\r\n  const close = () => {\r\n    title.value = ''\r\n    emit('update:modelValue', false)\r\n  }\r\n\r\n  return {\r\n    title,\r\n    add,\r\n    close\r\n  }\r\n}\r\n</script>\r\n","import script from \"./MissionAdd.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\nexport * from \"./MissionAdd.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\n\nexport default script","import store from '@/store'\r\n\r\nexport default function useMissionHandler() {\r\n  const missionAdd = title => store.commit('mission/missionAdd', title)\r\n  const missionImport = mission => store.commit('mission/missionImport', mission)\r\n  const missionStart = id => store.commit('mission/missionStart', id)\r\n  const missionDone = id => store.commit('mission/missionDone', id)\r\n  const missionRemove = id => store.commit('mission/missionRemove', id)\r\n  const missionSkip = id => store.commit('mission/missionSkip', id)\r\n\r\n  return {\r\n    missionAdd,\r\n    missionImport,\r\n    missionStart,\r\n    missionDone,\r\n    missionSkip,\r\n    missionRemove\r\n  }\r\n}\r\n","import { computed } from 'vue'\r\nimport store from '@/store'\r\n\r\nexport default function useMission() {\r\n  // 當日任務列表 (未完成&已完成&已作廢)\r\n  const missionToDoList = computed(() => store.getters['mission/missionToDoList'])\r\n  const missionDoneList = computed(() => store.getters['mission/missionDoneList'])\r\n  const missionSkipList = computed(() => store.getters['mission/missionSkipList'])\r\n\r\n  // 所有已完成任務列表\r\n  const missionDoneAllList = computed(() => store.getters['mission/missionDoneAllList'])\r\n\r\n  // 本週任務列表\r\n  const missionWeekList = computed(() => store.getters['mission/missionWeekList'])\r\n\r\n  // 當前執行任務\r\n  const currentMission = computed(() => {\r\n    return missionToDoList.value[0]\r\n  })\r\n\r\n  // 今日任務已完成 ?/?\r\n  const doneString = computed(() => {\r\n    const missionToday = store.getters['mission/missionToday']\r\n    const length = missionToday.length\r\n    const doneLength = missionToday.filter(x => x.done).length\r\n\r\n    return `${doneLength}/${length}`\r\n  })\r\n\r\n  // 本週任務已完成 ?/?\r\n  const weekDoneString = computed(() => {\r\n    const length = missionWeekList.value.length\r\n    const doneLength = missionWeekList.value.filter(x => x.done).length\r\n\r\n    return `${doneLength}/${length}`\r\n  })\r\n\r\n  return {\r\n    missionToDoList,\r\n    missionDoneList,\r\n    missionSkipList,\r\n    missionDoneAllList,\r\n    missionWeekList,\r\n    currentMission,\r\n    doneString,\r\n    weekDoneString\r\n  }\r\n}\r\n"],"sourceRoot":""}