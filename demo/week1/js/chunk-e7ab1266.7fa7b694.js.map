{"version":3,"sources":["webpack:///./src/components/VTimer.vue?ce7f","webpack:///./src/components/VStepper.vue?4313","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/components/mission/MissionAdd.vue","webpack:///./src/components/mission/MissionAdd.vue?8d5d","webpack:///./src/components/VStepper.vue","webpack:///./src/components/VStepper.vue?7601","webpack:///./src/components/VTimer.vue","webpack:///./src/components/VTimer.vue?93f4","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?ab8c","webpack:///./src/composables/useMissionHandler.js","webpack:///./src/composables/useMissionList.js"],"names":["$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","TypeError","useMissionHandler","missionAdd","useMissionAdd","title","add","close","value","emit","naem","props","modelValue","Boolean","emits","name","items","type","Array","default","__scopeId","dayjs","store","useStyle","timerClass","textClass","useTimer","mode","percent","start","pause","skip","isCounting","countDownFormat","timer","state","mission","duration","counter","current","currentDuration","asMilliseconds","format","val","commit","immediate","setInterval","getters","reset","clearInterval","missionStart","missionDone","missionSkip","useMissionList","missionToDoList","currentMission","doneString","bgClass","useCurrentDate","currentDate","currentTime","dialog","components","VStepper","VTimer","MissionAdd","missionImport","id","missionRemove","useMission","computed","missionDoneList","missionSkipList","missionDoneAllList","missionWeekList","missionToday","doneLength","filter","x","done","weekDoneString"],"mappings":"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","file":"js/chunk-e7ab1266.7fa7b694.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VTimer.vue?vue&type=style&index=0&id=6fe7414f&lang=postcss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VStepper.vue?vue&type=style&index=0&id=44e353c5&lang=postcss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","<template>\r\n  <base-dialog :model-value=\"modelValue\" @update:modelValue=\"close\">\r\n    <div class=\"font-noto\">\r\n      <input\r\n        v-model=\"title\"\r\n        type=\"text\"\r\n        placeholder=\"請輸入任務名稱\"\r\n        class=\"outline-none border-2 rounded px-4 py-2 w-full mb-4\"\r\n      />\r\n\r\n      <div class=\"flex justify-end\">\r\n        <base-btn class=\"mr-2\" color=\"red\" @click=\"add\">新增任務</base-btn>\r\n        <base-btn @click=\"close\">取消</base-btn>\r\n      </div>\r\n    </div>\r\n  </base-dialog>\r\n</template>\r\n\r\n<script setup=\"props, { emit }\">\r\nimport { ref } from 'vue'\r\n\r\n// 可複用功能\r\nimport useMissionHandler from '@/composables/useMissionHandler'\r\n\r\nexport default {\r\n  naem: 'MissionAdd',\r\n\r\n  props: {\r\n    modelValue: Boolean\r\n  },\r\n\r\n  emits: ['update:modelValue']\r\n}\r\n\r\nexport const { missionAdd } = useMissionHandler()\r\nexport const { title, add, close } = useMissionAdd()\r\n\r\n// 組件功能\r\nfunction useMissionAdd() {\r\n  const title = ref('')\r\n\r\n  const add = () => {\r\n    missionAdd(title.value)\r\n    close()\r\n  }\r\n\r\n  const close = () => {\r\n    title.value = ''\r\n    emit('update:modelValue', false)\r\n  }\r\n\r\n  return {\r\n    title,\r\n    add,\r\n    close\r\n  }\r\n}\r\n</script>\r\n","import script from \"./MissionAdd.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\nexport * from \"./MissionAdd.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\n\nexport default script","<template>\r\n  <div>\r\n    <div v-for=\"(item, i) in items\" :key=\"i\">\r\n      <div class=\"flex items-center h-16 relative\">\r\n        <div\r\n          v-if=\"i === 0\"\r\n          class=\"flex items-center justify-center w-10 h-10 border-2 border-red-400 text-red-400 rounded-full mr-5\"\r\n          :class=\"{ 'current-step': items.length > 1 }\"\r\n        >\r\n          <fa-icon :icon=\"['fas', 'play']\" class=\"text-lg ml-1\"></fa-icon>\r\n        </div>\r\n\r\n        <div\r\n          v-else\r\n          class=\"w-4 h-4 rounded-full bg-red-400 step mr-8\"\r\n          :class=\"{\r\n            'last-step': i === items.length - 1,\r\n            'bg-red-400': true\r\n          }\"\r\n        ></div>\r\n\r\n        <div\r\n          :class=\"{\r\n            'text-2xl': i === 0,\r\n            'text-base': i !== 0,\r\n            'font-light': i !== 0,\r\n            'font-noto': true,\r\n            'leading-5': true,\r\n            'tracking-wide': true\r\n          }\"\r\n        >\r\n          {{ item.title }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nexport default {\r\n  name: 'VStepper',\r\n\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"postcss\" scoped>\r\n.step {\r\n  @apply ml-3;\r\n}\r\n\r\n.step::before {\r\n  @apply absolute top-0 w-px bg-red-400;\r\n  content: '';\r\n  left: 20px;\r\n  height: 24px;\r\n}\r\n\r\n.step::after {\r\n  @apply absolute bottom-0 w-px bg-red-400;\r\n  content: '';\r\n  left: 20px;\r\n  height: 24px;\r\n}\r\n\r\n.step--break::after {\r\n  @apply bg-gradient-to-br to-red-400 from-green-700;\r\n}\r\n\r\n.step--break::before {\r\n  @apply bg-gradient-to-br from-red-400 to-green-700;\r\n}\r\n\r\n.current-step::after {\r\n  @apply absolute bottom-0 h-3 w-px bg-red-400;\r\n  content: '';\r\n  left: 20px;\r\n}\r\n\r\n.last-step::after {\r\n  @apply hidden;\r\n}\r\n</style>\r\n","import script from \"./VStepper.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VStepper.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VStepper.vue?vue&type=style&index=0&id=44e353c5&lang=postcss&scoped=true\"\nscript.__scopeId = \"data-v-44e353c5\"\n\nexport default script","<template>\r\n  <div class=\"relative\">\r\n    <svg width=\"100\" height=\"100\" viewBox=\"0 0 31.831 31.831\" :class=\"timerClass\">\r\n      <circle\r\n        r=\"15.9155\"\r\n        cx=\"15.9155\"\r\n        cy=\"15.9155\"\r\n        fill=\"transparent\"\r\n        stroke-width=\"31.831\"\r\n        :stroke-dasharray=\"`${percent} 100`\"\r\n      ></circle>\r\n    </svg>\r\n\r\n    <div class=\"absolute top-0 left-0 w-full h-full flex justify-center items-center\">\r\n      <div class=\"relative text-100 font-bold\" :class=\"textClass\">\r\n        <span>{{ countDownFormat }}</span>\r\n\r\n        <div\r\n          class=\"absolute w-full text-lg flex px-2\"\r\n          :class=\"isCounting ? 'justify-between' : 'justify-center'\"\r\n        >\r\n          <template v-if=\"isCounting\">\r\n            <div class=\"cursor-pointer\" @click=\"pause\">\r\n              <fa-icon :icon=\"['far', 'stop-circle']\"></fa-icon>\r\n              暫停\r\n            </div>\r\n\r\n            <div class=\"cursor-pointer\" @click=\"skip\">\r\n              <fa-icon :icon=\"['fas', 'times']\"></fa-icon>\r\n              作廢\r\n            </div>\r\n          </template>\r\n\r\n          <template v-else>\r\n            <div class=\"cursor-pointer\" @click=\"start\">\r\n              開始\r\n              <fa-icon :icon=\"['fas', 'play']\"></fa-icon>\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup=\"props, { emit }\">\r\nimport { inject, computed, ref, watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'VStepper'\r\n}\r\n\r\nconst dayjs = inject('dayjs')\r\nconst store = useStore()\r\n\r\n// 組件樣式/功能\r\nexport const { timerClass, textClass } = useStyle()\r\nexport const {\r\n  mode,\r\n  percent,\r\n  start,\r\n  pause,\r\n  skip,\r\n  isCounting,\r\n  countDownFormat\r\n} = useTimer()\r\n\r\n// 組件邏輯\r\nfunction useStyle() {\r\n  const timerClass = computed(() => {\r\n    return {\r\n      timer: true,\r\n      'timer-break': mode.value === 'break',\r\n      'timer-focus': mode.value === 'focus',\r\n      'timer--start': isCounting.value\r\n    }\r\n  })\r\n\r\n  const textClass = computed(() => {\r\n    return {\r\n      'text-white': isCounting.value,\r\n      'text-green-900': !isCounting.value && mode.value === 'break',\r\n      'text-red-600': !isCounting.value && mode.value === 'focus'\r\n    }\r\n  })\r\n\r\n  return { timerClass, textClass }\r\n}\r\n\r\nfunction useTimer() {\r\n  const mode = computed(() => store.state.mission.mode)\r\n  const duration = computed(() => (mode.value === 'focus' ? 2 : 2)) // timer 倒數模式 1500/300\r\n  const timer = ref(null) // interval\r\n  const counter = ref(0) // 目前執行秒數\r\n  const percent = computed(() => (100 / duration.value) * counter.value) // 進度百分比\r\n  const isCounting = computed(() => store.state.mission.isCounting)\r\n\r\n  // 進度轉換為 hh:mm 計時器\r\n  const countDownFormat = computed(() => {\r\n    const current = duration.value * 1000 - counter.value * 1000\r\n    const currentDuration = dayjs.duration(current)\r\n\r\n    return dayjs(currentDuration.asMilliseconds()).format('mm:ss')\r\n  })\r\n\r\n  // 監看 interval 是否執行中，將狀態同步到 vuex\r\n  watch(timer, val => store.commit('mission/setIsCounting', !!val), { immediate: true })\r\n\r\n  const start = () => {\r\n    emit('mission:start')\r\n\r\n    timer.value = setInterval(() => {\r\n      counter.value++\r\n\r\n      // 主工作時間結束後轉為短休息模式\r\n      // 短休息模式結束後將任務狀態改為完成後重置狀態\r\n      if (mode.value === 'focus' && percent.value === 100) {\r\n        counter.value = 0\r\n        emit('mission:done')\r\n\r\n        store.getters['mission/missionToDoList'].length\r\n          ? store.commit('mission/setMode', 'break')\r\n          : reset()\r\n      } else if (mode.value === 'break' && percent.value === 100) {\r\n        reset()\r\n      }\r\n    }, 1000)\r\n  }\r\n\r\n  const pause = () => {\r\n    clearInterval(timer.value)\r\n    timer.value = null\r\n  }\r\n\r\n  const reset = () => {\r\n    clearInterval(timer.value)\r\n    timer.value = null\r\n    counter.value = 0\r\n    store.commit('mission/setMode', 'focus')\r\n  }\r\n\r\n  const skip = () => {\r\n    emit('mission:skip')\r\n    reset()\r\n  }\r\n\r\n  return {\r\n    mode,\r\n    percent,\r\n    start,\r\n    pause,\r\n    skip,\r\n    isCounting,\r\n    countDownFormat\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"postcss\" scoped>\r\n.timer {\r\n  @apply transform -rotate-90 border-3 rounded-full w-full h-full transition-all duration-500;\r\n  font-size: 8px;\r\n}\r\n\r\n.timer-break {\r\n  @apply bg-green-200 border-green-600;\r\n}\r\n\r\n.timer-break circle {\r\n  @apply stroke-current text-green-500;\r\n}\r\n\r\n.timer-focus {\r\n  @apply bg-red-100 border-red-400;\r\n}\r\n\r\n.timer-focus circle {\r\n  @apply stroke-current text-red-500;\r\n}\r\n\r\n.timer-break.timer--start {\r\n  @apply bg-green-800 border-green-900;\r\n}\r\n\r\n.timer-focus.timer--start {\r\n  @apply bg-red-700 border-red-900;\r\n}\r\n\r\ncircle {\r\n  transition: stroke-dasharray 0.3s;\r\n}\r\n</style>\r\n","import script from \"./VTimer.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\nexport * from \"./VTimer.vue?vue&type=script&setup=props%2C%20%7B%20emit%20%7D&lang=js\"\n\nimport \"./VTimer.vue?vue&type=style&index=0&id=6fe7414f&lang=postcss&scoped=true\"\nscript.__scopeId = \"data-v-6fe7414f\"\n\nexport default script","<template>\n  <div class=\"flex h-full\">\n    <div class=\"flex flex-col w-4/12 p-16 h-full\">\n      <VStepper :items=\"missionToDoList\"></VStepper>\n\n      <div class=\"flex flex-grow justify-center items-center font-noto\">\n        <span v-if=\"!missionToDoList.length\" class=\"text-gray-400\">目前尚無任務</span>\n      </div>\n\n      <!-- 增加新任務 -->\n      <div class=\"h-40 p-6 bg-gray-100 rounded-md font-noto\">\n        <h3\n          class=\"text-lg text-gray-400 cursor-pointer inline-block\"\n          @click=\"dialog.missionAdd = true\"\n        >\n          <span class=\"mr-3\">+</span>\n          增加新任務\n        </h3>\n      </div>\n    </div>\n\n    <div\n      class=\"w-8/12 p-16 h-full flex flex-wrap items-start transition-all duration-500\"\n      :class=\"bgClass\"\n    >\n      <div class=\"w-6/12\">\n        <div class=\"text-lg font-noto\">今日任務已完成</div>\n        <div class=\"text-4xl\">{{ doneString }}</div>\n      </div>\n\n      <div class=\"w-6/12 flex justify-end\">\n        <div class=\"text-right\">\n          <div class=\"text-lg font-noto\">{{ currentDate }}</div>\n          <div class=\"text-4xl\">{{ currentTime }}</div>\n        </div>\n      </div>\n\n      <!-- Timer -->\n      <div class=\"w-full flex justify-center\">\n        <div v-if=\"missionToDoList.length\" class=\"w-6/12\">\n          <VTimer\n            @mission:start=\"missionStart(currentMission.id)\"\n            @mission:done=\"missionDone(currentMission.id)\"\n            @mission:skip=\"missionSkip(currentMission.id)\"\n          ></VTimer>\n        </div>\n\n        <div v-else class=\"w-6/12 text-center font-noto\">請先新增任務</div>\n      </div>\n\n      <div v-if=\"missionToDoList.length\" class=\"w-full text-2xl self-end font-noto\">\n        <fa-icon :icon=\"['fas', 'circle']\" class=\"mr-4\"></fa-icon>\n        <span>{{ currentMission.title }}</span>\n      </div>\n    </div>\n\n    <!-- 新增任務 Dialog -->\n    <MissionAdd v-model=\"dialog.missionAdd\"></MissionAdd>\n  </div>\n</template>\n\n<script setup>\nimport { computed, inject, onMounted, onUnmounted, reactive, ref } from 'vue'\nimport { useStore } from 'vuex'\n\n// 可複用功能\nimport useMissionHandler from '@/composables/useMissionHandler'\nimport useMissionList from '@/composables/useMissionList'\n\n// 組件\nimport MissionAdd from '@/components/mission/MissionAdd'\nimport VStepper from '@/components/VStepper'\nimport VTimer from '@/components/VTimer'\n\nexport default {\n  name: 'Home',\n\n  components: {\n    VStepper,\n    VTimer,\n    MissionAdd\n  }\n}\n\nconst store = useStore()\nconst dayjs = inject('dayjs')\n\n// 任務處理\nexport const { missionStart, missionDone, missionSkip } = useMissionHandler()\n\n// 任務列表/樣式\nexport const { missionToDoList, currentMission, doneString } = useMissionList()\nexport const { bgClass } = useStyle()\nexport const { currentDate, currentTime } = useCurrentDate()\n\n// 彈窗控制\nexport const dialog = reactive({ missionAdd: false })\n\n// 組件邏輯\nfunction useStyle() {\n  const isCounting = computed(() => store.state.mission.isCounting)\n  const mode = computed(() => store.state.mission.mode)\n\n  const textClass = computed(() => {\n    return isCounting.value && mode.value === 'focus' ? 'text-white' : 'text-gray-400'\n  })\n\n  const bgClass = computed(() => {\n    return {\n      'bg-gray-100': !isCounting.value,\n      'bg-red-300': isCounting.value && mode.value === 'focus',\n      'bg-green-100': isCounting.value && mode.value === 'break',\n      [textClass.value]: true\n    }\n  })\n\n  return { bgClass }\n}\n\nfunction useCurrentDate() {\n  const timer = ref(null) // interval\n  const currentDate = computed(() => dayjs().format('YYYY-MM-DD'))\n  const currentTime = ref('') // 當前時間\n\n  const start = () => {\n    timer.value = setInterval(() => {\n      currentTime.value = dayjs().format('HH:mm')\n    })\n  }\n\n  onMounted(() => {\n    start()\n  })\n\n  onUnmounted(() => {\n    clearInterval(timer.value)\n    timer.value = null\n  })\n\n  return { currentDate, currentTime }\n}\n</script>\n","import script from \"./Home.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Home.vue?vue&type=script&setup=true&lang=js\"\n\nexport default script","import store from '@/store'\r\n\r\nexport default function useMissionHandler() {\r\n  const missionAdd = title => store.commit('mission/missionAdd', title)\r\n  const missionImport = mission => store.commit('mission/missionImport', mission)\r\n  const missionStart = id => store.commit('mission/missionStart', id)\r\n  const missionDone = id => store.commit('mission/missionDone', id)\r\n  const missionRemove = id => store.commit('mission/missionRemove', id)\r\n  const missionSkip = id => store.commit('mission/missionSkip', id)\r\n\r\n  return {\r\n    missionAdd,\r\n    missionImport,\r\n    missionStart,\r\n    missionDone,\r\n    missionSkip,\r\n    missionRemove\r\n  }\r\n}\r\n","import { computed } from 'vue'\r\nimport store from '@/store'\r\n\r\nexport default function useMission() {\r\n  // 當日任務列表 (未完成&已完成&已作廢)\r\n  const missionToDoList = computed(() => store.getters['mission/missionToDoList'])\r\n  const missionDoneList = computed(() => store.getters['mission/missionDoneList'])\r\n  const missionSkipList = computed(() => store.getters['mission/missionSkipList'])\r\n\r\n  // 所有已完成任務列表\r\n  const missionDoneAllList = computed(() => store.getters['mission/missionDoneAllList'])\r\n\r\n  // 本週任務列表\r\n  const missionWeekList = computed(() => store.getters['mission/missionWeekList'])\r\n\r\n  // 當前執行任務\r\n  const currentMission = computed(() => {\r\n    return missionToDoList.value[0]\r\n  })\r\n\r\n  // 今日任務已完成 ?/?\r\n  const doneString = computed(() => {\r\n    const missionToday = store.getters['mission/missionToday']\r\n    const length = missionToday.length\r\n    const doneLength = missionToday.filter(x => x.done).length\r\n\r\n    return `${doneLength}/${length}`\r\n  })\r\n\r\n  // 本週任務已完成 ?/?\r\n  const weekDoneString = computed(() => {\r\n    const length = missionWeekList.value.length\r\n    const doneLength = missionWeekList.value.filter(x => x.done).length\r\n\r\n    return `${doneLength}/${length}`\r\n  })\r\n\r\n  return {\r\n    missionToDoList,\r\n    missionDoneList,\r\n    missionSkipList,\r\n    missionDoneAllList,\r\n    missionWeekList,\r\n    currentMission,\r\n    doneString,\r\n    weekDoneString\r\n  }\r\n}\r\n"],"sourceRoot":""}